{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function searchImages(searchTerm) {\n  const apiKey = '43845799-470caa65ff354fc4cfb98d159';\n  const params = new URLSearchParams({\n    key: apiKey,\n    q: searchTerm,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true'\n  });\n\n  const url = `https://pixabay.com/api/?${params.toString()}`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .then(data => data)\n    .catch(error => {\n      throw new Error('Error fetching data: ' + error.message);\n    });\n}","export function updateGallery(images) {\n  const galleryElement = document.querySelector('.gallery');\n  galleryElement.innerHTML = '';\n\n  images.forEach(image => {\n    const imageHTML = `\n      <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n      </a>\n    `;\n    galleryElement.insertAdjacentHTML('beforeend', imageHTML);\n  });\n\n  const lightbox = new SimpleLightbox('.gallery a');\n  lightbox.refresh();\n}\n","import { searchImages } from './js/pixabay-api.js';\nimport { updateGallery } from './js/render-functions.js';\n\ndocument.querySelector('.search-form').addEventListener('submit', function(event) {\n  event.preventDefault();\n  const searchTerm = document.querySelector('.search-input').value.trim();\n  if (searchTerm === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search term.',\n    });\n    return;\n  }\n\n  document.querySelector('.loader').style.display = 'block';\n\n  searchImages(searchTerm)\n    .then(data => {\n      document.querySelector('.loader').style.display = 'none';\n\n      if (data.hits.length === 0) {\n        updateGallery([]);\n        iziToast.error({\n          title: 'Error',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n\n      updateGallery(data.hits);\n    })\n    .catch(error => {\n      document.querySelector('.loader').style.display = 'none';\n      console.error('Error fetching data:', error);\n      iziToast.error({\n        title: 'Error',\n        message: 'An error occurred while fetching data. Please try again later.',\n      });\n    });\n});\n"],"names":["searchImages","searchTerm","apiKey","url","response","data","error","updateGallery","images","galleryElement","image","imageHTML","event"],"mappings":"ssBAAO,SAASA,EAAaC,EAAY,CACvC,MAAMC,EAAS,qCASTC,EAAM,4BARG,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAE8C,SAAQ,CAAE,GAEzD,OAAO,MAAME,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQA,CAAI,EACjB,MAAMC,GAAS,CACd,MAAM,IAAI,MAAM,wBAA0BA,EAAM,OAAO,CAC7D,CAAK,CACL,CCvBO,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAiB,SAAS,cAAc,UAAU,EACxDA,EAAe,UAAY,GAE3BD,EAAO,QAAQE,GAAS,CACtB,MAAMC,EAAY;AAAA,iBACLD,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,MAGtDD,EAAe,mBAAmB,YAAaE,CAAS,CAC5D,CAAG,EAEgB,IAAI,eAAe,YAAY,EACvC,QAAO,CAClB,CCZA,SAAS,cAAc,cAAc,EAAE,iBAAiB,SAAU,SAASC,EAAO,CAChFA,EAAM,eAAc,EACpB,MAAMX,EAAa,SAAS,cAAc,eAAe,EAAE,MAAM,OACjE,GAAIA,IAAe,GAAI,CACrB,SAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACf,CAAK,EACD,MACD,CAED,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,QAElDD,EAAaC,CAAU,EACpB,KAAKI,GAAQ,CAGZ,GAFA,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,OAE9CA,EAAK,KAAK,SAAW,EAAG,CAC1BE,EAAc,CAAE,CAAA,EAChB,SAAS,MAAM,CACb,MAAO,QACP,QAAS,0EACnB,CAAS,EACD,MACD,CAEDA,EAAcF,EAAK,IAAI,CAC7B,CAAK,EACA,MAAMC,GAAS,CACd,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,OAClD,QAAQ,MAAM,uBAAwBA,CAAK,EAC3C,SAAS,MAAM,CACb,MAAO,QACP,QAAS,gEACjB,CAAO,CACP,CAAK,CACL,CAAC"}