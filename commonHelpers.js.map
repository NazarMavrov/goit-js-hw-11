{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const apiKey = '43845799-470caa65ff354fc4cfb98d159';\n\nexport async function searchImages(searchTerm) {\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchTerm}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  try {\n    const response = await fetch(url);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    throw new Error('Error fetching data:', error);\n  }\n}\n","export function updateGallery(images) {\n  const galleryElement = document.querySelector('.gallery');\n  galleryElement.innerHTML = '';\n\n  const lightboxElements = images.reduce((acc, image) => {\n    const imageElement = document.createElement('img');\n    imageElement.src = image.webformatURL;\n    imageElement.alt = image.tags;\n\n    imageElement.addEventListener('click', () => {\n      const lightbox = new SimpleLightbox('.gallery a');\n      lightbox.refresh();\n    });\n\n    const linkElement = document.createElement('a');\n    linkElement.href = image.largeImageURL;\n    linkElement.setAttribute('data-lightbox', 'gallery');\n    linkElement.appendChild(imageElement);\n\n    acc.push(linkElement);\n    return acc;\n  }, []);\n\n  lightboxElements.forEach(element => {\n    galleryElement.appendChild(element);\n  });\n\n  const lightbox = new SimpleLightbox('.gallery a');\n  lightbox.refresh();\n}\n","import { searchImages } from './js/pixabay-api.js';\nimport { updateGallery } from './js/render-functions.js';\n\ndocument.querySelector('.search-form').addEventListener('submit', async function(event) {\n  event.preventDefault();\n  const searchTerm = document.querySelector('.search-input').value.trim();\n  if (searchTerm === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search term.',\n    });\n    return;\n  }\n\n  try {\n    document.querySelector('.loader').style.display = 'block';\n\n    const data = await searchImages(searchTerm);\n\n    document.querySelector('.loader').style.display = 'none';\n\n    if (data.hits.length === 0) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n      });\n      return;\n    }\n\n    updateGallery(data.hits);\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    iziToast.error({\n      title: 'Error',\n      message: 'An error occurred while fetching data. Please try again later.',\n    });\n  }\n});\n"],"names":["apiKey","searchImages","searchTerm","url","error","updateGallery","images","galleryElement","acc","image","imageElement","linkElement","element","event","data"],"mappings":"ssBAAA,MAAMA,EAAS,qCAER,eAAeC,EAAaC,EAAY,CAC7C,MAAMC,EAAM,gCAAgCH,CAAM,MAAME,CAAU,2DAElE,GAAI,CAGF,OADa,MADI,MAAM,MAAMC,CAAG,GACJ,MAE7B,OAAQC,EAAO,CACd,MAAM,IAAI,MAAM,uBAAwBA,CAAK,CAC9C,CACH,CCZO,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAiB,SAAS,cAAc,UAAU,EACxDA,EAAe,UAAY,GAEFD,EAAO,OAAO,CAACE,EAAKC,IAAU,CACrD,MAAMC,EAAe,SAAS,cAAc,KAAK,EACjDA,EAAa,IAAMD,EAAM,aACzBC,EAAa,IAAMD,EAAM,KAEzBC,EAAa,iBAAiB,QAAS,IAAM,CAC1B,IAAI,eAAe,YAAY,EACvC,QAAO,CACtB,CAAK,EAED,MAAMC,EAAc,SAAS,cAAc,GAAG,EAC9C,OAAAA,EAAY,KAAOF,EAAM,cACzBE,EAAY,aAAa,gBAAiB,SAAS,EACnDA,EAAY,YAAYD,CAAY,EAEpCF,EAAI,KAAKG,CAAW,EACbH,CACR,EAAE,CAAE,CAAA,EAEY,QAAQI,GAAW,CAClCL,EAAe,YAAYK,CAAO,CACtC,CAAG,EAEgB,IAAI,eAAe,YAAY,EACvC,QAAO,CAClB,CC1BA,SAAS,cAAc,cAAc,EAAE,iBAAiB,SAAU,eAAeC,EAAO,CACtFA,EAAM,eAAc,EACpB,MAAMX,EAAa,SAAS,cAAc,eAAe,EAAE,MAAM,OACjE,GAAIA,IAAe,GAAI,CACrB,SAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACf,CAAK,EACD,MACD,CAED,GAAI,CACF,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,QAElD,MAAMY,EAAO,MAAMb,EAAaC,CAAU,EAI1C,GAFA,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,OAE9CY,EAAK,KAAK,SAAW,EAAG,CAC1B,SAAS,MAAM,CACb,MAAO,QACP,QAAS,0EACjB,CAAO,EACD,MACD,CAEDT,EAAcS,EAAK,IAAI,CACxB,OAAQV,EAAO,CACd,QAAQ,MAAM,uBAAwBA,CAAK,EAC3C,SAAS,MAAM,CACb,MAAO,QACP,QAAS,gEACf,CAAK,CACF,CACH,CAAC"}